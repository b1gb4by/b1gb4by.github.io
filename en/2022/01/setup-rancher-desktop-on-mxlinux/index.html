<!doctype html><html lang=en>
<head>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-BRRNK5J7PW"></script>
<script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag('js',new Date),gtag('config','G-BRRNK5J7PW')</script>
<meta name=google-site-verification content="MI9tWDvB5U3u_StKcJVdMhElMqisSGg7sJaKL0XmdMg">
<meta charset=utf-8>
<meta name=viewport content="width=device-width,initial-scale=1"><meta name=robots content="noodp"><title>Running Rancher Desktop on MXLinux | </title><meta name=twitter:card content="summary_large_image">
<meta name=twitter:image content="https://t4i5uKE.github.io/en/2022/01/setup-rancher-desktop-on-mxlinux/featured-image.webp">
<meta name=twitter:title content="Running Rancher Desktop on MXLinux">
<meta name=twitter:description content="Rancher Desktop v1.0.0 has been released, and I tried to run it on MXLinux."><meta name=twitter:creator content="@m0rer0"><meta name=Description content="Rancher Desktop v1.0.0 has been released, and I tried to run it on MXLinux."><meta property="og:title" content="Running Rancher Desktop on MXLinux">
<meta property="og:description" content="Rancher Desktop v1.0.0 has been released, and I tried to run it on MXLinux.">
<meta property="og:type" content="article">
<meta property="og:url" content="https://t4i5uKE.github.io/en/2022/01/setup-rancher-desktop-on-mxlinux/"><meta property="og:image" content="https://t4i5uKE.github.io/en/2022/01/setup-rancher-desktop-on-mxlinux/featured-image.webp"><meta property="article:section" content="posts">
<meta property="article:published_time" content="2022-01-27T23:26:54+09:00">
<meta property="article:modified_time" content="2022-01-28T04:59:50+09:00">
<meta name=application-name content="morero's blog">
<meta name=apple-mobile-web-app-title content="morero's blog"><meta name=theme-color content="#ffffff"><meta name=msapplication-TileColor content="#da532c"><link rel=icon href=favicon.svg type=image/x-icon><link rel=apple-touch-icon sizes=180x180 href=/apple-touch-icon.png><link rel=mask-icon href=/safari-pinned-tab.svg color=#5bbad5><link rel=manifest href=/site.webmanifest><link rel=canonical href=https://t4i5uKE.github.io/en/2022/01/setup-rancher-desktop-on-mxlinux/><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/normalize.css@8.0.1/normalize.min.css><link rel=stylesheet href=/lib/prismjs/prism.css><link rel=stylesheet href=/css/style.min.css><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/animate.css@3.7.2/animate.min.css><script type=application/ld+json>{"@context":"http://schema.org","@type":"BlogPosting","headline":"Running Rancher Desktop on MXLinux","inLanguage":"en","mainEntityOfPage":{"@type":"WebPage","@id":"https:\/\/t4i5uKE.github.io\/en\/2022\/01\/setup-rancher-desktop-on-mxlinux\/"},"image":[{"@type":"ImageObject","url":"https:\/\/t4i5uKE.github.io\/en\/2022\/01\/setup-rancher-desktop-on-mxlinux\/featured-image.webp","width":800,"height":300}],"genre":"posts","keywords":"kubernetes, k3s, rancher, helm, containerd, moby, linux, mxlinux","wordCount":1989,"url":"https:\/\/t4i5uKE.github.io\/en\/2022\/01\/setup-rancher-desktop-on-mxlinux\/","datePublished":"2022-01-27T23:26:54+09:00","dateModified":"2022-01-28T04:59:50+09:00","description":"Rancher Desktop v1.0.0 has been released, and I tried to run it on MXLinux."}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Home","item":"https:\/\/t4i5uKE.github.io\/"},{"@type":"ListItem","position":2,"name":"Kubernetes","item":"https://t4i5uKE.github.io/en/categories/kubernetes/"},{"@type":"ListItem","position":3,"name":"Running Rancher Desktop on MXLinux"}]}</script></head>
<body data-header-desktop=fixed data-header-mobile=auto><script>(window.localStorage&&localStorage.getItem('theme')?localStorage.getItem('theme')==='dark':'auto'==='auto'?window.matchMedia('(prefers-color-scheme: dark)').matches:'auto'==='dark')&&document.body.setAttribute('theme','dark')</script>
<div id=mask></div><div class=wrapper><header>
<div class="desktop header" id=header-desktop>
<div class=header-wrapper>
<div class=header-title>
<a href=/en/ title="morero's blog" class="header-logo logo-svg">morero's blog</a>
</div>
<div class=menu>
<nav>
<h2 class=display-hidden>Основная навигация</h2>
<ul class=menu-inner><li>
<a class=menu-item href=/en/posts/> Posts </a>
</li><li>
<a class=menu-item href=/en/tags/> Tags </a>
</li><li>
<a class=menu-item href=/en/categories/> Categories </a>
</li><li>
<a class=menu-item href=/en/resume/> Resume </a>
</li><li>
<a class=menu-item href=/en/about/> WHORU? </a>
</li></ul>
</nav><span class="menu-item delimiter"></span><span onclick="void 0" class="menu-item language" title="Select Language">English<select class=language-select id=language-select-desktop onchange="location=this.value"><option value=/en/2022/01/setup-rancher-desktop-on-mxlinux/ selected>English</option><option value=/2022/01/setup-rancher-desktop-on-mxlinux/>Japanese</option></select>
</span><span class="menu-item search" id=search-desktop>
<input type=text placeholder="Search titles or contents..." id=search-input-desktop>
<a href=javascript:void(0); class="search-button search-toggle" id=search-toggle-desktop title=Search>
<span class="svg-icon icon-search"></span>
</a>
<a href=javascript:void(0); class="search-button search-clear" id=search-clear-desktop title=Clear>
<span class="svg-icon icon-cancel"></span>
</a>
<span class="search-button search-loading" id=search-loading-desktop>
<span class="svg-icon icon-loading"></span>
</span>
</span><a href=javascript:void(0); class="menu-item theme-switch" title="Switch Theme">
<span class="svg-icon icon-moon"></span>
</a>
</div>
</div>
</div><div class="mobile header" id=header-mobile>
<div class=header-container>
<div class=header-wrapper>
<div class=header-title>
<a href=/en/ title="morero's blog" class=header-logo>morero's blog</a>
</div>
<div class=menu-toggle id=menu-toggle-mobile>
<span></span><span></span><span></span>
</div>
</div>
<div class=menu id=menu-mobile><div class=search-wrapper>
<div class="search mobile" id=search-mobile>
<input type=text placeholder="Search titles or contents..." id=search-input-mobile>
<a href=javascript:void(0); class="search-button search-toggle" id=search-toggle-mobile title=Search>
<span class="svg-icon icon-search"></span>
</a>
<a href=javascript:void(0); class="search-button search-clear" id=search-clear-mobile title=Clear>
<span class="svg-icon icon-cancel"></span>
</a>
<span class="search-button search-loading" id=search-loading-mobile>
<span class="svg-icon icon-loading"></span>
</span>
</div>
<a href=javascript:void(0); class=search-cancel id=search-cancel-mobile>
Cancel
</a>
</div><nav>
<h2 class=display-hidden>Основная навигация</h2>
<ul><li>
<a class=menu-item href=/en/posts/ title>Posts</a>
</li><li>
<a class=menu-item href=/en/tags/ title>Tags</a>
</li><li>
<a class=menu-item href=/en/categories/ title>Categories</a>
</li><li>
<a class=menu-item href=/en/resume/ title>Resume</a>
</li><li>
<a class=menu-item href=/en/about/ title>WHORU?</a>
</li></ul>
</nav>
<a href=javascript:void(0); class="menu-item theme-switch" title="Switch Theme">
<span class="svg-icon icon-moon"></span>
</a><span onclick="void 0" class=menu-item title="Select Language">English<select class=language-select onchange="location=this.value"><option value=/en/2022/01/setup-rancher-desktop-on-mxlinux/ selected>English</option><option value=/2022/01/setup-rancher-desktop-on-mxlinux/>Japanese</option></select>
</span></div>
</div>
</div><div class="search-dropdown desktop">
<div id=search-dropdown-desktop></div>
</div>
<div class="search-dropdown mobile">
<div id=search-dropdown-mobile></div>
</div></header><main class=main>
<div class="container content-article page-toc theme-classic"><div class=toc id=toc-auto>
<div class=toc-title>Contents</div>
<div class=toc-content id=toc-content-auto></div>
</div>
<article>
<header class=header-post>
<div class=post-title>
<div class=post-all-meta>
<nav class=breadcrumbs>
<ol>
<li><a href=/en/>Home </a></li><li><a href=/en/categories/kubernetes/>Kubernetes </a></li><li>Running Rancher Desktop on MXLinux</li>
</ol>
</nav>
<h1 class="single-title flipInX">Running Rancher Desktop on MXLinux</h1><div class="post-meta summary-post-meta"><span class="post-category meta-item">
<a href=/en/categories/kubernetes/><span class="svg-icon icon-folder"></span>Kubernetes</a>
</span><span class="post-meta-date meta-item">
<span class="svg-icon icon-clock"></span><time class=timeago datetime=2022-01-27>2022-01-27</time>
</span><span class="post-meta-words meta-item">
<span class="svg-icon icon-pencil"></span>1989 words
</span>
<span class="post-meta-reading meta-item">
<span class="svg-icon icon-stopwatch"></span>4 minutes
</span>
</div>
</div>
</div>
</header>
<div class="article-post toc-start">
<div class="content-block content-block-first content-block-position">
<div class="post single"><div class=image-theme-classic>
<img src=https://t4i5uKE.github.io/en/2022/01/setup-rancher-desktop-on-mxlinux/featured-image.webp style=width:100%>
</div><div class="details toc" id=toc-static data-kept>
<div class="details-summary toc-title">
<span>Contents</span>
</div>
<div class="details-content toc-content" id=toc-content-static><nav id=TableOfContents>
<ul>
<li><a href=#what-is-rancher-desktop>What is Rancher Desktop?</a></li>
<li><a href=#requirements>Requirements</a>
<ul>
<li><a href=#macos>macOS</a></li>
<li><a href=#windowsos>WindowsOS</a></li>
<li><a href=#linux>Linux</a></li>
<li><a href=#machine-specs>Machine specs</a></li>
</ul>
</li>
<li><a href=#how-it-works>How it works</a></li>
<li><a href=#installing-on-mxlinux>Installing on MXLinux</a></li>
<li><a href=#launching-rancher-desktop>Launching Rancher Desktop</a>
<ul>
<li><a href=#general>General</a></li>
<li><a href=#kubernetes-setting>Kubernetes Setting</a></li>
<li><a href=#supporting-utilities>Supporting Utilities</a></li>
<li><a href=#images>Images</a></li>
<li><a href=#troubleshooting>Troubleshooting</a></li>
</ul>
</li>
<li><a href=#verification>Verification</a>
<ul>
<li><a href=#use-nerdctl>Use nerdctl</a></li>
<li><a href=#use-helm>Use Helm</a>
<ul>
<li><a href=#add-grafana-repository-to-helm>Add Grafana repository to Helm</a></li>
<li><a href=#verify-that-the-repository-has-been-added-to-helm>Verify that the repository has been added to Helm</a></li>
<li><a href=#view-the-chart-from-the-added-grafana-repository>View the chart from the added Grafana repository</a></li>
<li><a href=#helm-charts-released>Helm Charts Released</a></li>
</ul>
</li>
</ul>
</li>
<li><a href=#所感>所感</a></li>
</ul>
</nav></div>
</div><div style="margin:20px 0">
<span class=post-update>
<span class=s>Updated on 2022-01-28</span>
</span>
</div><p>On January 26th, <a href=https://rancherdesktop.io/ target=_blank rel="noopener noreffer">Rancher Desktop</a> was officially released as <a href=https://github.com/rancher-sandbox/rancher-desktop/releases/tag/v1.0.0 target=_blank rel="noopener noreffer">v1.0.0</a>.</p>
<p>In this article, I&rsquo;ll try to install and run Rancher Desktop on MXLinux.</p>
<h2 id=what-is-rancher-desktop class=headerLink><a href=#what-is-rancher-desktop class=header-mark></a>What is Rancher Desktop?</h2><p>Rancher Desktop is a desktop application built on Electron and Node.js that allows you to run Kubernetes and container management on your desktop.</p>
<p>You can choose any version of Kubernetes to run.</p>
<p>You can use <code>containerd</code> or <code>Moby (dockerd)</code> to build, push, pull and run container images. The built container images can be run immediately in Kubernetes without the need for a registry.</p>
<h2 id=requirements class=headerLink><a href=#requirements class=header-mark></a>Requirements</h2><p>It is an OSS desktop application that can run on macOS, Windows, and various Linux environments. It also supports M1, so it can run on almost any environment.</p>
<p>The requirements for each environment are as follows.</p>
<h3 id=macos class=headerLink><a href=#macos class=header-mark></a>macOS</h3><ul>
<li><strong>macOS</strong>.
<ul>
<li>Catalina 10.15 or later</li>
</ul>
</li>
<li>CPU architecture**
<ul>
<li>Intel CPU with Apple Silicon (M1) or VT-x</li>
</ul>
</li>
</ul>
<h3 id=windowsos class=headerLink><a href=#windowsos class=header-mark></a>WindowsOS</h3><ul>
<li><strong>Windows</strong>.
<ul>
<li>Windows 10 build 1909 or later</li>
<li>Home Edition is also supported</li>
</ul>
</li>
<li><strong>Hyper-V (virtualization)</strong> is enabled</li>
<li><strong>Windows Subsystem for Linux (WSL)</strong>.
<ul>
<li>Rancher Desktop requires WSL on Windows, but it will be installed automatically as part of the setup</li>
<li>No need to download the distribution manually</li>
</ul>
</li>
</ul>
<h3 id=linux class=headerLink><a href=#linux class=header-mark></a>Linux</h3><ul>
<li>Distributions that can install <code>.deb</code> or <code>.rpm</code> packages, or `AppImages</li>
</ul>
<h3 id=machine-specs class=headerLink><a href=#machine-specs class=header-mark></a>Machine specs</h3><ul>
<li>8GB memory</li>
<li>4-core CPU</li>
</ul>
<h2 id=how-it-works class=headerLink><a href=#how-it-works class=header-mark></a>How it works</h2><p>Rancher Desktop is wrapping other tools to make it work.</p>
<p>On MacOS and Linux, it leverages virtual machines such as <a href=https://github.com/lima-vm/lima target=_blank rel="noopener noreffer">Lima</a> and <a href=https://www.qemu.org/ target=_blank rel="noopener noreffer">QEMU</a> to run <code>containerd</code> or <code>dockerd</code> and Kubernetes (<a href=https://k3s.io/ target=_blank rel="noopener noreffer">k3s</a>).</p>
<p>For Windows systems, we utilize <a href=https://docs.microsoft.com/en-us/windows/wsl/ target=_blank rel="noopener noreffer">Windows Subsystem for Linux v2 (WSL2)</a>.</p>
<blockquote>
<p>The figure below is taken from <a href=https://rancherdesktop.io/ target=_blank rel="noopener noreffer">rancher</a>
<img loading=lazy decoding=async class=render-image src=/en/2022/01/setup-rancher-desktop-on-mxlinux/how-it-works-rancher-desktop.webp alt=how-it-works-rancher-desktop title=how-it-works-rancher-desktop.webp></p>
</blockquote>
<p>Rancher Desktop provides functions to build, push, and pull images using <a href=https://github.com/containerd/nerdctl target=_blank rel="noopener noreffer">NERDCTL project</a> and Docker CLI.
Note that both <code>nerdctl</code> and <code>docker</code> are automatically included in the path. On Windows, this is done during the installer, and on macOS and Linux, it is done at first run.</p>
<p>To use either of these tools, Rancher Desktop must be running with the appropriate container runtime.</p>
<p>For <code>nerdctl</code>, use the <code>containerd</code> runtime; for docker, use the <code>dockerd (moby)</code> runtime.</p>
<div class="details admonition note">
<div class="details-summary admonition-title"><i class="icon admonition-icon icon-note"></i>About Lima<i class="details-icon admonition-icon admonition-icon-arrow-right"></i></div>
<div class=details-content>
<div class=admonition-content>Lima is similar to WSL, and boots a Linux virtual machine with automatic file sharing and port forwarding, and containerd. Lima is intended to be used on macOS hosts, but can be used on Linux hosts as well.</div>
</div>
</div>
<div class="details admonition note">
<div class="details-summary admonition-title"><i class="icon admonition-icon icon-note"></i>About QEMU<i class="details-icon admonition-icon admonition-icon-arrow-right"></i></div>
<div class=details-content>
<div class=admonition-content>QEMU is an OSS PC emulator. It runs on Linux, Windows, etc. on various CPUs such as x86, SPARC, MIPS, etc. It has the feature that it can execute instructions of other CPUs while converting them into native code.</div>
</div>
</div>
<div class="details admonition note">
<div class="details-summary admonition-title"><i class="icon admonition-icon icon-note"></i>About k3s<i class="details-icon admonition-icon admonition-icon-arrow-right"></i></div>
<div class=details-content>
<div class=admonition-content>k3s is one of the lightweight Kubernetes released by Rancher Labs, featuring a binary size of less than 40MB and a memory usage of only 512MB. Recently, it is expected to be used in IoT and Edge computing.</div>
</div>
</div>
<div class="details admonition note">
<div class="details-summary admonition-title"><i class="icon admonition-icon icon-note"></i>About nerdctl<i class="details-icon admonition-icon admonition-icon-arrow-right"></i></div>
<div class=details-content>
<div class=admonition-content>nerdctl is a container manipulation tool for containerd. You can think of it as a docker command for containerd.</div>
</div>
</div>
<h2 id=installing-on-mxlinux class=headerLink><a href=#installing-on-mxlinux class=header-mark></a>Installing on MXLinux</h2><p>Let&rsquo;s try to install Rancher Desktop on one of the Linux distributions, <a href=https://mxlinux.org/ target=_blank rel="noopener noreffer">MXLinux</a>.</p>
<p>To install, follow the <a href=https://docs.rancherdesktop.io/installation#linux target=_blank rel="noopener noreffer">official documentation</a>, add the Rancher Desktop repository, and install Rancher Desktop.</p>
<p>There are several packages available for installation on Linux, but since MXLinux is based on Debian(stable), we will use the <code>.deb</code> package.</p>
<p>Translated with <a href=http://www.DeepL.com/Translator target=_blank rel="noopener noreffer">www.DeepL.com/Translator</a> (free version)</p>
<div class=highlight><div class=chroma>
<table class=lntable><tr><td class=lntd>
<pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span></code></pre></td>
<td class=lntd>
<pre tabindex=0 class=chroma><code class=language-go data-lang=go><span class=err>#</span> <span class=nx>Obtain</span> <span class=nx>and</span> <span class=nx>register</span> <span class=nx>the</span> <span class=nx>repository</span><span class=p>.</span>
<span class=err>$</span> <span class=nx>curl</span> <span class=nx>https</span><span class=p>:</span><span class=c1>//download.opensuse.org/repositories/isv:/Rancher:/stable/deb/Release.key | sudo apt-key add -
</span><span class=c1></span><span class=err>$</span> <span class=nx>sudo</span> <span class=nx>add</span><span class=o>-</span><span class=nx>apt</span><span class=o>-</span><span class=nx>repository</span> <span class=err>&#39;</span><span class=nx>deb</span> <span class=nx>https</span><span class=p>:</span><span class=c1>//download.opensuse.org/repositories/isv:/Rancher:/stable/deb/ ./&#39;
</span><span class=c1></span><span class=err>#</span> <span class=nx>Updated</span> <span class=kn>package</span> <span class=nx>list</span>
<span class=err>$</span> <span class=nx>sudo</span> <span class=nx>apt</span> <span class=nx>update</span>
<span class=err>#</span> <span class=nx>Install</span> <span class=nx>Rancher</span> <span class=nx>Desktop</span>
<span class=err>$</span> <span class=nx>sudo</span> <span class=nx>apt</span> <span class=nx>install</span> <span class=nx>rancher</span><span class=o>-</span><span class=nx>desktop</span>
</code></pre></td></tr></table>
</div>
</div><p>This completes the installation of Rancher Desktop. It&rsquo;s very easy.</p>
<div class="details admonition note">
<div class="details-summary admonition-title"><i class="icon admonition-icon icon-note"></i>About MXLinux<i class="details-icon admonition-icon admonition-icon-arrow-right"></i></div>
<div class=details-content>
<div class=admonition-content>MXLinux is one of the most popular Linux distributions on DistroWatch.com.
It is a joint project between antiX and the former MEPIS Linux community and is being developed in Greece and the United States.</div>
</div>
</div>
<h2 id=launching-rancher-desktop class=headerLink><a href=#launching-rancher-desktop class=header-mark></a>Launching Rancher Desktop</h2><p>Let&rsquo;s run the installed Rancher Desktop. The application itself is very simple.</p>
<h3 id=general class=headerLink><a href=#general class=header-mark></a>General</h3><p>
<img loading=lazy decoding=async class=render-image src=/en/2022/01/setup-rancher-desktop-on-mxlinux/rancher-desktop-general.webp alt=rancher-desktop-general title=rancher-desktop-general.webp></p>
<h3 id=kubernetes-setting class=headerLink><a href=#kubernetes-setting class=header-mark></a>Kubernetes Setting</h3><p>Next, let&rsquo;s take a look at the Kubernetes configuration.</p>
<p>
<img loading=lazy decoding=async class=render-image src=/en/2022/01/setup-rancher-desktop-on-mxlinux/rancher-desktop-k8s-setting.webp alt=rancher-desktop-k8s-setting title=rancher-desktop-k8s-setting.webp></p>
<p>In <code>Kubernetes version</code>, you can specify the version of Kubernetes. You can select from v1.23.3, the latest version at the time of writing, to v1.16.7, the oldest version.</p>
<p>The <code>Port</code> is set to <code>6443</code> by default.</p>
<p>For <code>Container runtime</code>, you can choose between <code>containerd</code> and <code>dockerd (moby)</code>.</p>
<p>For <code>Memory (GB)</code> and <code>CPUs</code>, you can specify the number of memory and CPU cores. If you increase the value up to the red line, a warning message will be displayed as shown below.</p>
<p>
<img loading=lazy decoding=async class=render-image src=/en/2022/01/setup-rancher-desktop-on-mxlinux/rancher-desktop-k8s-setting-danger.webp alt=rancher-desktop-k8s-setting-danger title=rancher-desktop-k8s-setting-danger.webp></p>
<p>If you want to clean up your environment once, you can easily reset it by pressing <code>Reset Kubernetes</code>.</p>
<h3 id=supporting-utilities class=headerLink><a href=#supporting-utilities class=header-mark></a>Supporting Utilities</h3><p>In the <code>Supporting Utilities</code> section, you can see the tools that were installed. For Docker, etc., which were already installed, a warning was carefully written.</p>
<p>
<img loading=lazy decoding=async class=render-image src=/en/2022/01/setup-rancher-desktop-on-mxlinux/rancher-desktop-supporting-utilities.webp alt=rancher-desktop-supporting-utilities title=rancher-desktop-supporting-utilities.webp></p>
<h3 id=images class=headerLink><a href=#images class=header-mark></a>Images</h3><p>In <code>Images</code>, you can see the images used by Rancher Desktop.</p>
<p>
<img loading=lazy decoding=async class=render-image src=/en/2022/01/setup-rancher-desktop-on-mxlinux/rancher-desktop-images.webp alt=rancher-desktop-images title=rancher-desktop-images.webp></p>
<p>Notice the <code>Image Namespace</code> here. In <code>containerd</code>, the concept of <code>namespace</code> exists as in Kubernetes.
So, just as Kubernetes can have <code>namespace</code>, <code>containerd</code> can have <code>namespace</code> as well.
In the above figure, the image exists in <code>namespace:k8s.io</code>.</p>
<p>Let&rsquo;s check the <code>namespace</code> using the <code>nerdctl</code> command. Use <code>nerdctl namespace list</code> to display a list of <code>namespaces</code>.</p>
<div class=highlight><div class=chroma>
<table class=lntable><tr><td class=lntd>
<pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span></code></pre></td>
<td class=lntd>
<pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback>$ ./.local/bin/nerdctl namespace list
NAME        CONTAINERS    IMAGES    VOLUMES
buildkit    0             0         0
k8s.io      22            16        0
</code></pre></td></tr></table>
</div>
</div><p>When you run <code>nerdctl --namespace k8s.io ps</code>, you can see that the image exists in <code>k8s.io</code>.</p>
<p>You can also use <code>nerdctl --namespace k8s.io ps</code> to check <code>namespace:k8s.io</code> for Kubernetes containers created with Rancher Desktop.</p>
<div class=highlight><div class=chroma>
<table class=lntable><tr><td class=lntd>
<pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span></code></pre></td>
<td class=lntd>
<pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback>$ ./.local/bin/nerdctl --namespace k8s.io ps
CONTAINER ID    IMAGE                                               COMMAND                   CREATED           STATUS    PORTS    NAMES
1f642d94e7d5    docker.io/rancher/klipper-lb:v0.3.4                 &#34;entry&#34;                   50 minutes ago    Up                 k8s://kube-system/svclb-traefik-svnfr/lb-port-443                                   
2ca56d5f0874    docker.io/rancher/mirrored-library-traefik:2.5.6    &#34;/entrypoint.sh --gl…&#34;    49 minutes ago    Up                 k8s://kube-system/traefik-6bb96f9bd8-cflf4/traefik                                  
2f1c800451cf    docker.io/rancher/mirrored-coredns-coredns:1.8.6    &#34;/coredns -conf /etc…&#34;    49 minutes ago    Up                 k8s://kube-system/coredns-5789895cd-wgxlq/coredns                                   
56bd8fba2fda    docker.io/rancher/klipper-lb:v0.3.4                 &#34;entry&#34;                   50 minutes ago    Up                 k8s://kube-system/svclb-traefik-svnfr/lb-port-80                                    
5908afd18045    docker.io/rancher/mirrored-pause:3.6                &#34;/pause&#34;                  49 minutes ago    Up                 k8s://kube-system/coredns-5789895cd-wgxlq                                           
8c16131e6d1b    docker.io/rancher/mirrored-pause:3.6                &#34;/pause&#34;                  50 minutes ago    Up                 k8s://kube-system/svclb-traefik-svnfr                                               
95b859fec9ed    docker.io/rancher/mirrored-pause:3.6                &#34;/pause&#34;                  49 minutes ago    Up                 k8s://kube-system/local-path-provisioner-6c79684f77-plbxh                           
a0656b86ab35    docker.io/rancher/local-path-provisioner:v0.0.21    &#34;local-path-provisio…&#34;    49 minutes ago    Up                 k8s://kube-system/local-path-provisioner-6c79684f77-plbxh/local-path-provisioner    
a5c31106d6d7    docker.io/rancher/mirrored-pause:3.6                &#34;/pause&#34;                  49 minutes ago    Up                 k8s://kube-system/traefik-6bb96f9bd8-cflf4                                          
c9417746b27d    docker.io/rancher/mirrored-pause:3.6                &#34;/pause&#34;                  49 minutes ago    Up                 k8s://kube-system/metrics-server-7cd5fcb6b7-4cbkd                                   
ce64e7b0a242    docker.io/rancher/mirrored-metrics-server:v0.5.2    &#34;/metrics-server --c…&#34;    49 minutes ago    Up                 k8s://kube-system/metrics-server-7cd5fcb6b7-4cbkd/metrics-server  
</code></pre></td></tr></table>
</div>
</div><h3 id=troubleshooting class=headerLink><a href=#troubleshooting class=header-mark></a>Troubleshooting</h3><p>In <code>Troubleshooting</code>, you can enable logging and initialize Rancher Desktop itself.</p>
<p>
<img loading=lazy decoding=async class=render-image src=/en/2022/01/setup-rancher-desktop-on-mxlinux/rancher-desktop-troubleshooting.webp alt=rancher-desktop-troubleshooting title=rancher-desktop-troubleshooting.webp></p>
<h2 id=verification class=headerLink><a href=#verification class=header-mark></a>Verification</h2><p>Let&rsquo;s try to run a container on Rancher Desktop.</p>
<h3 id=use-nerdctl class=headerLink><a href=#use-nerdctl class=header-mark></a>Use nerdctl</h3><p>Try to start nginx using the <code>nerdctl</code> command. If <code>namespace</code> is not specified, it will be placed in <code>default</code> by default.</p>
<div class=highlight><div class=chroma>
<table class=lntable><tr><td class=lntd>
<pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span></code></pre></td>
<td class=lntd>
<pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback># Launch nginx
$ ./.local/bin/nerdctl run -d -p 9999:80 nginx
docker.io/library/nginx:latest:                                                   resolved       |++++++++++++++++++++++++++++++++++++++| 
index-sha256:2834dc507516af02784808c5f48b7cbe38b8ed5d0f4837f16e78d00deb7e7767:    done           |++++++++++++++++++++++++++++++++++++++| 
...
elapsed: 7.2 s                                                                    total:  54.1 M (7.5 MiB/s)                                       
484e86556e00843200c97b5aa779ba81a9016796e23964e5a0cac27159de444e

# Check the status of the container.
$ ./.local/bin/nerdctl ps
CONTAINER ID    IMAGE                             COMMAND                   CREATED          STATUS    PORTS                   NAMES
484e86556e00    docker.io/library/nginx:latest    &#34;/docker-entrypoint.…&#34;    6 minutes ago    Up        0.0.0.0:9999-&gt;80/tcp    nginx-484e8

# Check the namespace
$ ./.local/bin/nerdctl namespace list
NAME        CONTAINERS    IMAGES    VOLUMES
buildkit    0             0         0
default     1             1         0
k8s.io      22            16        0

# Check the process of namespace default
$ ./.local/bin/nerdctl --namespace default ps
CONTAINER ID    IMAGE                             COMMAND                   CREATED           STATUS    PORTS                   NAMES
484e86556e00    docker.io/library/nginx:latest    &#34;/docker-entrypoint.…&#34;    11 minutes ago    Up        0.0.0.0:9999-&gt;80/tcp    nginx-484e8
</code></pre></td></tr></table>
</div>
</div><p>You can also see the nginx image in <code>namespace:default</code> from Rancher Desktop.</p>
<p>
<img loading=lazy decoding=async class=render-image src=/en/2022/01/setup-rancher-desktop-on-mxlinux/rancher-desktop-run-nginx.webp alt=rancher-desktop-run-nginx title=rancher-desktop-run-nginx.webp></p>
<p>Finally, try to access <code>localhost:9999</code> to check if nginx is up and running.</p>
<p>
<img loading=lazy decoding=async class=render-image src=/en/2022/01/setup-rancher-desktop-on-mxlinux/run-nginx.webp alt=run-nginx title=run-nginx.webp></p>
<h3 id=use-helm class=headerLink><a href=#use-helm class=header-mark></a>Use Helm</h3><p>Rancher Desktop also installs Helm at startup, so let&rsquo;s deploy Grafana to Kubernetes using Helm.</p>
<h4 id=add-grafana-repository-to-helm class=headerLink><a href=#add-grafana-repository-to-helm class=header-mark></a>Add Grafana repository to Helm</h4><div class=highlight><div class=chroma>
<table class=lntable><tr><td class=lntd>
<pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td>
<td class=lntd>
<pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback>$ ./.local/bin/helm repo add grafana https://grafana.github.io/helm-charts
</code></pre></td></tr></table>
</div>
</div><h4 id=verify-that-the-repository-has-been-added-to-helm class=headerLink><a href=#verify-that-the-repository-has-been-added-to-helm class=header-mark></a>Verify that the repository has been added to Helm</h4><div class=highlight><div class=chroma>
<table class=lntable><tr><td class=lntd>
<pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span></code></pre></td>
<td class=lntd>
<pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback>$ ./.local/bin/helm repo list
NAME    URL                                  
grafana https://grafana.github.io/helm-charts
</code></pre></td></tr></table>
</div>
</div><h4 id=view-the-chart-from-the-added-grafana-repository class=headerLink><a href=#view-the-chart-from-the-added-grafana-repository class=header-mark></a>View the chart from the added Grafana repository</h4><div class=highlight><div class=chroma>
<table class=lntable><tr><td class=lntd>
<pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span></code></pre></td>
<td class=lntd>
<pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback>$ ./.local/bin/helm search repo grafana
NAME                            CHART VERSION   APP VERSION DESCRIPTION                                       
grafana/grafana                 6.21.1          8.3.4       The leading tool for querying and visualizing t...
grafana/grafana-agent-operator  0.1.5           0.22.0      A Helm chart for Grafana Agent Operator           
grafana/enterprise-logs         2.0.0           v1.3.0      Grafana Enterprise Logs                           
grafana/enterprise-metrics      1.7.3           v1.6.1      Grafana Enterprise Metrics                        
grafana/fluent-bit              2.3.0           v2.1.0      Uses fluent-bit Loki go plugin for gathering lo...
grafana/loki                    2.9.1           v2.4.2      Loki: like Prometheus, but for logs.              
grafana/loki-canary             0.5.1           2.4.1       Helm chart for Grafana Loki Canary                
grafana/loki-distributed        0.42.0          2.4.2       Helm chart for Grafana Loki in microservices mode 
grafana/loki-simple-scalable    0.2.0           2.4.2       Helm chart for Grafana Loki in simple, scalable...
grafana/loki-stack              2.5.1           v2.1.0      Loki: like Prometheus, but for logs.              
grafana/promtail                3.10.0          2.4.2       Promtail is an agent which ships the contents o...
grafana/tempo                   0.13.0          1.3.0       Grafana Tempo Single Binary Mode                  
grafana/tempo-distributed       0.15.0          1.3.0       Grafana Tempo in MicroService mode                
grafana/tempo-vulture           0.2.0           1.3.0       Grafana Tempo Vulture - A tool to monitor Tempo...

</code></pre></td></tr></table>
</div>
</div><h4 id=helm-charts-released class=headerLink><a href=#helm-charts-released class=header-mark></a>Helm Charts Released</h4><div class=highlight><div class=chroma>
<table class=lntable><tr><td class=lntd>
<pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span></code></pre></td>
<td class=lntd>
<pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback>$ ./.local/bin/kubectl create namespace monitoring
$ ./.local/bin/helm install grafana --namespace monitoring grafana/grafana
W0128 03:37:33.477723  218028 warnings.go:70] policy/v1beta1 PodSecurityPolicy is deprecated in v1.21+, unavailable in v1.25+
W0128 03:37:33.480386  218028 warnings.go:70] policy/v1beta1 PodSecurityPolicy is deprecated in v1.21+, unavailable in v1.25+
W0128 03:37:33.538004  218028 warnings.go:70] policy/v1beta1 PodSecurityPolicy is deprecated in v1.21+, unavailable in v1.25+
W0128 03:37:33.538201  218028 warnings.go:70] policy/v1beta1 PodSecurityPolicy is deprecated in v1.21+, unavailable in v1.25+
NAME: grafana
LAST DEPLOYED: Fri Jan 28 03:37:32 2022
NAMESPACE: monitoring
STATUS: deployed
REVISION: 1
NOTES:
1. Get your &#39;admin&#39; user password by running:

   kubectl get secret --namespace monitoring grafana -o jsonpath=&#34;{.data.admin-password}&#34; | base64 --decode ; echo

2. The Grafana server can be accessed via port 80 on the following DNS name from within your cluster:

   grafana.monitoring.svc.cluster.local

   Get the Grafana URL to visit by running these commands in the same shell:

     export POD_NAME=$(kubectl get pods --namespace monitoring -l &#34;app.kubernetes.io/name=grafana,app.kubernetes.io/instance=grafana&#34; -o jsonpath=&#34;{.items[0].metadata.name}&#34;)
     kubectl --namespace monitoring port-forward $POD_NAME 3000

3. Login with the password from step 1 and the username: admin
#################################################################################
######   WARNING: Persistence is disabled!!! You will lose your data when   #####
######            the Grafana pod is terminated.                            #####
#################################################################################
</code></pre></td></tr></table>
</div>
</div><p>Following the steps above, you should now be able to successfully login to Grafana.</p>
<p>
<img loading=lazy decoding=async class=render-image src=/en/2022/01/setup-rancher-desktop-on-mxlinux/grafana-dashboard.webp alt=grafana-dashboard title=grafana-dashboard.webp></p>
<p>Finally, use the <code>kubectl</code> command to make sure that Grafana is up and running.</p>
<div class=highlight><div class=chroma>
<table class=lntable><tr><td class=lntd>
<pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span></code></pre></td>
<td class=lntd>
<pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback>$ ./.local/bin/kubectl get all --namespace monitoring
NAME                           READY   STATUS    RESTARTS   AGE
pod/grafana-6b9d4f7f86-mwb4q   1/1     Running   0          15m

NAME              TYPE        CLUSTER-IP     EXTERNAL-IP   PORT(S)   AGE
service/grafana   ClusterIP   10.43.218.65   &lt;none&gt;        80/TCP    15m

NAME                      READY   UP-TO-DATE   AVAILABLE   AGE
deployment.apps/grafana   1/1     1            1           15m

NAME                                 DESIRED   CURRENT   READY   AGE
replicaset.apps/grafana-6b9d4f7f86   1         1         1       15m
</code></pre></td></tr></table>
</div>
</div><p>As you can see above, you can easily develop and deploy your application just by running Rancher Desktop.</p>
<h2 id=所感 class=headerLink><a href=#%e6%89%80%e6%84%9f class=header-mark></a>所感</h2><p>This time, I touched Rancher Desktop, which was released v1.0.0, and found it to be a very complete tool. If you are new to <code>containerd</code> or <code>nerdctl</code>, Rancher Desktop is a good opportunity for you.</p>
<p>Last year, <a href=https://www.docker.com/blog/updating-product-subscriptions/ target=_blank rel="noopener noreffer">Docker Desktop is now paid</a> became a big news, and Rancher Desktop, but
If you switch from Docker Desktop, you will be able to use it without any problems. If you want to use Docker&rsquo;s runtime, you can switch from Rancher Desktop without much trouble.</p>
<p>Also, I personally think that the ability to smoothly switch between Kubernetes versions is a big advantage.</p>
<p>There is a great possibility that this will become one of the most popular ways to use containers in the future, so I will keep an eye on the future developments.</p></div><footer>
<div class=post>
<div class=post-share><div class=share-link>
<a class="share-icon share-twitter" href=javascript:void(0); title="Share on Twitter" data-sharer=twitter data-url=https://t4i5uKE.github.io/en/2022/01/setup-rancher-desktop-on-mxlinux/ data-title="Running Rancher Desktop on MXLinux" data-via=m0rer0 data-hashtags=kubernetes,k3s,rancher,helm,containerd,moby,linux,mxlinux><span class="svg-social-icon icon-twitter"></span></a>
</div><div class=share-link>
<a class="share-icon share-facebook" href=javascript:void(0); title="Share on Facebook" data-sharer=facebook data-url=https://t4i5uKE.github.io/en/2022/01/setup-rancher-desktop-on-mxlinux/ data-hashtag=kubernetes><span class="svg-social-icon icon-facebook"></span></a>
</div><div class=share-link>
<a class="share-icon share-line" href=javascript:void(0); title="Share on Line" data-sharer=line data-url=https://t4i5uKE.github.io/en/2022/01/setup-rancher-desktop-on-mxlinux/ data-title="Running Rancher Desktop on MXLinux"><span class="svg-social-icon icon-line"></span></a>
</div><div class=share-link>
<a class="share-icon share-hackernews" href=javascript:void(0); title="Share on Hacker News" data-sharer=hackernews data-url=https://t4i5uKE.github.io/en/2022/01/setup-rancher-desktop-on-mxlinux/ data-title="Running Rancher Desktop on MXLinux"><span class="svg-social-icon icon-hacker-news"></span></a>
</div></div>
<div class=post-tags><a href=/en/tags/kubernetes/ class=tag>kubernetes</a><a href=/en/tags/k3s/ class=tag>k3s</a><a href=/en/tags/rancher/ class=tag>rancher</a><a href=/en/tags/helm/ class=tag>helm</a><a href=/en/tags/containerd/ class=tag>containerd</a><a href=/en/tags/moby/ class=tag>moby</a><a href=/en/tags/linux/ class=tag>linux</a><a href=/en/tags/mxlinux/ class=tag>mxlinux</a></div></div>
</footer></div>
<div id=toc-final></div>
</div>
</article>
<section class="page single comments content-block-position">
<h1 class=display-hidden>Комментарии</h1><div id=comments></div></section></div>
</main><footer class=footer>
<div class=footer-container><div class=footer-line><i class="svg-icon icon-copyright"></i><span>2021 - 2022</span><span class=author>&nbsp;<a href=/en/ target=_blank></a></span>&nbsp;|&nbsp;<span class=license>t4i5uKE (morero)</span></div>
</div>
</footer></div>
<aside id=fixed-buttons><a href=# id=back-to-top class=fixed-button title="Back to Top">
<i class="svg-icon icon-arrow-up"></i>
</a><a href=# id=view-comments class=fixed-button title="View Comments">
<i class="svg-icon icon-comments-fixed"></i>
</a>
</aside><script src=https://cdn.jsdelivr.net/npm/smooth-scroll@16.1.3/dist/smooth-scroll.min.js></script><script src=https://cdn.jsdelivr.net/npm/autocomplete.js@0.37.1/dist/autocomplete.min.js></script><script src=https://cdn.jsdelivr.net/npm/algoliasearch@4.2.0/dist/algoliasearch-lite.umd.min.js></script><script src=https://cdn.jsdelivr.net/npm/clipboard@2.0.6/dist/clipboard.min.js></script><script src=https://cdn.jsdelivr.net/npm/sharer.js@0.4.0/sharer.min.js></script><script src=/lib/prismjs/prism.js></script><script>window.config={code:{copyTitle:"Copy to clipboard",maxShownLines:10},comment:{},search:{algoliaAppID:"PASDMWALPK",algoliaIndex:"index.en",algoliaSearchKey:"b42948e51daaa93df92381c8e2ac0f93",highlightTag:"em",maxResultLength:10,noResultsFound:"No results found",snippetLength:30,type:"algolia"}}</script><script src=/js/theme.min.js></script></body>
</html>